<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
  html, body { height: 100%; margin: 0; padding: 0; }
  #map { height: 100%; }
  </style>
</head>
<body>
  <h1 id="title">SSUI Projecct Coffee & Study</h1>


  <div id="map"></div>

  <script type="text/javascript">

// Note: This example requires that you consent to location sharing when
// prompted by your browser. If you see the error "The Geolocation service
// failed.", it means you probably did not give permission for the browser to
// locate you.

function initMap() {
  var cmuLat = 40.443504;
  var cmuLng = -79.9415;

  var huntLat = 40.441085;
  var huntLng = -79.943722;

  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: huntLat, lng: huntLng},
    zoom: 18,
  });
  map.setTilt(45);


  green = {
    url: 'green.png',
    // This marker is 20 pixels wide by 32 pixels high.
    size: new google.maps.Size(48, 48),
    // The origin for this image is (0, 0).
    origin: new google.maps.Point(0, 0),
    // The anchor for this image is the base of the flagpole at (0, 32).
    anchor: new google.maps.Point(0, 48)
  };


  red = {
    url: 'red.png',
    // This marker is 20 pixels wide by 32 pixels high.
    size: new google.maps.Size(48, 48),
    // The origin for this image is (0, 0).
    origin: new google.maps.Point(0, 0),
    // The anchor for this image is the base of the flagpole at (0, 32).
    anchor: new google.maps.Point(0, 48)
  };


  shape = {
    coords: [1, 1, 1, 20, 18, 20, 18, 1],
    type: 'poly'
  };

  marker = new google.maps.Marker({
    map: map,
    animation: google.maps.Animation.DROP,
    position: {lat: huntLat, lng: huntLng},
    icon: green,
    shape: shape
  });
  marker.addListener('click', toggleBounce);



  contentString = '<div id="content">'+
  '<div id="siteNotice">'+
  '</div>'+
  '<h1 id="firstHeading" class="firstHeading">Uluru</h1>'+
  '<div id="bodyContent">'+
  '<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
  'sandstone rock formation in the southern part of the '+
  'Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) '+
  'south west of the nearest large town, Alice Springs; 450&#160;km '+
  '(280&#160;mi) by road. Kata Tjuta and Uluru are the two major '+
  'features of the Uluru - Kata Tjuta National Park. Uluru is '+
  'sacred to the Pitjantjatjara and Yankunytjatjara, the '+
  'Aboriginal people of the area. It has many springs, waterholes, '+
  'rock caves and ancient paintings. Uluru is listed as a World '+
  'Heritage Site.</p>'+
  '<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
  'https://en.wikipedia.org/w/index.php?title=Uluru</a> '+
  '(last visited June 22, 2009).</p>'+
  '</div>'+
  '</div>';

  infowindow = new google.maps.InfoWindow({
    content: contentString
  });

}


function toggleBounce() {
  if (marker.getAnimation() !== null) {
    marker.setAnimation(null);
    marker.setIcon(red);
    infowindow.close();
  } else {
    infowindow.open(map, marker);
    marker.setIcon(green);
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }


}

function handleLocationError(browserHasGeolocation, infoWindow, pos) {
  infoWindow.setPosition(pos);
  infoWindow.setContent(browserHasGeolocation ?
    'Error: The Geolocation service failed.' :
    'Error: Your browser doesn\'t support geolocation.');
}

</script>

<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6oRWOV5zJolIO10AdQdZRKR-ADmTSi-Y&callback=initMap">
</script>
</body>
</html>